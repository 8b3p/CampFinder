<%- layout('./layout/boilerplate') %>

  <div class="container my-auto">
    <h1 class="display-1 text-center">Edit Campground</h1>
    <div class="row">
      <form class="col-lg-6 offset-lg-3 validated-form" action="/campgrounds/<%=campground.id %>?_method=PATCH"
        method="POST" id="theForm" novalidate enctype="multipart/form-data">
        <div class="form-floating mb-3">
          <input value="<%= campground.title %>" name="campground[title]" type="text" class="form-control" id="title"
            placeholder="Enter Title" required>
          <label for="title">Title</label>
          <div class="valid-feedback">
            Looks Good!
          </div>
        </div>
        <div class="form-floating mb-3">
          <input value="<%= campground.price %>" name="campground[price]" type="text" class="form-control" id="price"
            placeholder="Enter Price" required>
          <label for="price">Price</label>
          <div class="valid-feedback">
            Looks Good!
          </div>
        </div>
        <div class="form-floating mb-3">
          <input value="<%= campground.description %>" name="campground[description]" type="text" class="form-control"
            id="description" placeholder="Enter Description" required>
          <label for="description">Desctiption</label>
          <div class="valid-feedback">
            Looks Good!
          </div>
        </div>
        <div class="form-floating mb-3">
          <input value="<%= campground.location %>" name="campground[location]" type="text" class="form-control"
            id="location" placeholder="Enter Location" required>
          <label for="location">Location</label>
          <div class="valid-feedback">
            Looks Good!
          </div>
        </div>
        <div class="form-group mb-3">
          <label for="image" class="col-form-label">Upload more images</label>
          <input class="form-control" name="image" type="file" id="image" multiple>
          <div id="invalid" class="invalid-feedback">
            You can't upload more than 2 files
          </div>
          <div style="display: none;" class="text-success">
            Looks Good!
          </div>
        </div>
        <div class="mb-3 row">
          <% campground.images.forEach((img, i)=> { %>
            <div class="col-10 col-sm-6 text-center mx-auto">
              <img src="<%= img.thumbnail %>" style="max-height: 11rem;" class="img-thumbnail mx-auto">
              <div>
                <div class="form-check-inline">
                  <input type="checkbox" id="<%= i %>" name="deleteImages[]" value="<%= img.filename %>">
                </div>
                <label for="<%= i %> ">Delete</label>
              </div>
            </div>
            <% }); %>
        </div>
        <div class="my-3">
          <input type="submit" id="submit" class="btn btn-primary">
          <a href="/campgrounds/<%= campground._id %>" class="btn btn-secondary">Cancel</a>
        </div>
        <script src="/js/filesLimiter.js"></script>
      </form>
    </div>
  </div>
  <script src="/js/validateForms.js"></script>